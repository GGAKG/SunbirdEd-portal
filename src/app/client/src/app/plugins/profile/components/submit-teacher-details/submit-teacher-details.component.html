<mat-toolbar color="primary" class="toolbar-pageback">
  <!-- /* Back button */ -->
 <div class="d-flex flex-ai-center">
    <button type="button" mat-mini-fab color="accent"
    class="button-rounded" tabindex="0" (click)="goBack()" attr.aria-label="{{resourceService?.frmelmnts?.btn?.back}}">
    <mat-icon aria-hidden="false" fontIcon="arrow_back"></mat-icon>
  </button>
  <div class="toolbar-pageback__heading">
    <h3 class="mat-title mb-0 ellipsis" tabindex="0" role="heading" aria-level="2"><span *ngIf="formAction === 'submit'">{{resourceService?.frmelmnts?.lbl?.provideTeacherDetails}} </span><span *ngIf="formAction === 'update'">{{resourceService?.frmelmnts?.lbl?.updateDetails}}</span></h3>
  </div>
 </div>
  <div class="toolbar-pageback__actions">
  </div>
</mat-toolbar>


<div class="mat-inside-page-container mat-app-background2 submit-teacher-details-component">
<div class="mt-24 sb-md-container">
  <div class="sb-modal-header teacher-header font-weight-bold px-24 py-16">
    <span *ngIf="formAction === 'submit'">{{resourceService?.frmelmnts?.lbl?.provideTeacherDetails}} </span>
    <span *ngIf="formAction === 'update'">{{resourceService?.frmelmnts?.lbl?.updateDetails}}</span>
  </div>

  <div class="py-16 px-32">
    <div *ngIf="showLoader">
      <app-loader></app-loader>
    </div>

    <div *ngIf="!showLoader">
      <sb-form *ngIf="tenantPersonaForm" [config]="tenantPersonaForm" [platform]="'web'"
        (initialize)="tenantPersonaFormValueChanges($event?.value); tenantPersonaFormStatusChanges($event);"
        (valueChanges)="tenantPersonaFormValueChanges($event)" (statusChanges)="tenantPersonaFormStatusChanges($event)">
      </sb-form>

      <sb-form *ngIf=" teacherDetailsForm?.length" [config]="teacherDetailsForm" [platform]="'web'"
        (valueChanges)="declarationFormValueChanges($event)" (statusChanges)="declarationFormStatusChanges($event)"
        (linkClicked)="linkClicked($event)">
      </sb-form>

      <div class="teacher-buttons text-right">
        <button *ngIf="formAction === 'submit'" appTelemetryInteract [telemetryInteractEdata]="submitInteractEdata"
          [ngClass]="{'sb-btn-disabled': !isTenantPersonaFormValid || !isDeclarationFormValid}"
          class="sb-btn sb-btn-normal sb-btn-primary" [disabled]="!isTenantPersonaFormValid || !isDeclarationFormValid"
          (click)="submit()" tabindex="0">
          {{resourceService?.frmelmnts?.btn?.submit}}
        </button>
        <button *ngIf="formAction === 'update'" appTelemetryInteract [telemetryInteractEdata]="getUpdateTelemetry()"
          [ngClass]="{'sb-btn-disabled': !isTenantPersonaFormValid || !isDeclarationFormValid}"
          class="sb-btn sb-btn-normal sb-btn-primary" [disabled]="!isTenantPersonaFormValid || !isDeclarationFormValid"
          (click)="submit()" tabindex="0">
          {{resourceService?.frmelmnts?.btn?.update}}
        </button>
      </div>
    </div>
  </div>
</div>
</div>
<!-- information submitted modal in TEACHER Profile-->
<app-modal-wrapper *ngIf="showSuccessModal" [config]="{disableClose: true, size: 'small', width: '30rem'}"
  (dismiss)="closeSuccessModal()" #modal>
  <ng-template sbModalContent>
    <div mat-dialog-title class="mb-0">
      <h2 class="mb-0">{{resourceService?.frmelmnts?.lbl?.thankyouForSubmittingDetails}}
      </h2>
    </div>

    <mat-dialog-content class="text-center">
      <p class="my-16">{{resourceService?.frmelmnts?.lbl?.editProfileInfo}}</p>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-raised-button color="accent" class="button-rounded mr-8" appTelemetryInteract
        [telemetryInteractEdata]="submitDetailsInteractEdata" tabindex="0" (click)="closeSuccessModal()">
        {{resourceService?.frmelmnts?.btn?.ok}}
      </button>
    </mat-dialog-actions>

  </ng-template>
</app-modal-wrapper>

<app-tnc-popup (close)="showAndHidePopup(false)" [tncUrl]="termsAndConditionLink" *ngIf="showTncPopup">
</app-tnc-popup>

<app-modal-wrapper *ngIf="isOtpVerificationRequired" [config]="{disableClose: true, size: 'small', width: '30rem'}"
  (dismiss)="onOtpPopupClose()" #modal>
  <ng-template sbModalContent>
    <app-otp-popup [otpData]="otpData" [redirectToLogin]="false" (verificationSuccess)="onVerificationSuccess($event)"
      (closeContactForm)="onOtpPopupClose()" (redirectToParent)="onOtpVerificationError($event)">
    </app-otp-popup>
  </ng-template>
</app-modal-wrapper>