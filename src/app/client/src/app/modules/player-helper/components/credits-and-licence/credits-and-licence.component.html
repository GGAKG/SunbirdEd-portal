<div *ngIf="contentData.description" class="mat-app-background br-24">
  <div class="m-16 py-16 " tabindex="0">
    <div class="mat-body-1 font-weight-bold" role="heading" aria-level="2">
      {{resourceService?.frmelmnts?.lbl?.description}}</div>
    <p class="mat-body-1 pt-8">
      {{contentData?.description}}
    </p>
  </div>
</div>


<mat-accordion class="sb-mat-accordion mb-16">
  <mat-expansion-panel class="mat-app-background">
    <mat-expansion-panel-header>
      <mat-panel-title tabindex="0" title class="mat-subheading-1 mb-0">
        {{resourceService?.frmelmnts?.lbl?.aboutTheContent}}
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div content role="region" id="aboutTheContent" aria-labelledby="aboutTheContent">
      <div *ngIf="contentData?.transcripts" (click)="showDownloadTranscript()">
        <a mat-button color="accent" tabindex="0">
          {{resourceService?.frmelmnts?.lbl?.DownloadTranscript}}
          <mat-icon class="ml-8">download</mat-icon>
        </a>
      </div>
      <div class="pb-8" *ngIf="contentData?.author">
        <div class="mat-small color-accent">{{resourceService?.frmelmnts?.lbl?.author}}</div>
        <div class="mat-body-1">{{contentData?.author}}</div>
      </div>
      <div class="pb-8" *ngIf="contentData?.attributions">
        <div class="mat-small color-accent">{{resourceService?.frmelmnts?.lbl?.attributions}}</div>
        <div class="mat-body-1">{{contentData?.attributions}}</div>
      </div>
      <div class="pb-8" *ngIf="contentData?.license">
        <div class="mat-small color-accent">{{resourceService?.frmelmnts?.lbl?.licenseTerms}}</div>
        <div class="mat-body-1">{{contentData.license}}</div>
      </div>
      <div class="pb-8" *ngIf="contentData?.licenseDetails?.name">
        <div class="mat-small color-accent"></div>
        <div class="mat-body-1" *ngIf="contentData?.licenseDetails?.name">
          {{contentData.licenseDetails['name']}} {{contentData.licenseDetails['description']}}&#x200E; <br />
          <span *ngIf="contentData.licenseDetails['url']">
            <a href="{{contentData.licenseDetails['url']}}" class="break-all"
              target="_blank">{{contentData.licenseDetails['url']}}</a>
          </span>
        </div>
      </div>
      <div class="pb-8" *ngIf="contentData?.copyright">
        <div class="mat-small color-accent">{{resourceService?.frmelmnts?.lbl?.copyRight}}</div>
        <div class="mat-body-1">{{contentData?.copyright}}<span
            *ngIf="contentData?.copyrightYear">,&nbsp;{{contentData?.copyrightYear}}</span></div>
      </div>
      <div *ngIf="contentData.originData">
        <div class="mat-body-1 color-accent" *ngIf="contentData?.originData">
          {{resourceService?.frmelmnts?.lbl?.contentcopiedtitle}}</div>
        <div class="pb-8" *ngIf="contentData?.originData?.name">
          <div class="mat-small">{{resourceService?.frmelmnts?.lbl?.desktop.content}}</div>
          <div class="mat-body-1">{{contentData?.originData?.name}}</div>
        </div>
        <div class="pb-8" *ngIf="contentData?.originData?.author">
          <div class="mat-small color-accent">
            {{resourceService?.frmelmnts?.lbl?.desktop.authorOfSourceContent}}</div>
          <div class="mat-body-1">{{contentData?.originData?.author}}</div>
        </div>
        <div class="pb-8" *ngIf="contentData?.originData?.license">
          <div class="mat-small color-accent">{{resourceService?.frmelmnts?.lbl?.licenseTerms}}</div>
          <div class="mat-body-1">{{contentData?.originData?.license}}</div>
        </div>
        <div class="pb-8" *ngIf="contentData?.originData?.organisation">
          <div class="mat-small color-accent"
            [innerHTML]="resourceService.frmelmnts.lbl?.publishedOnInstanceName | interpolate:'{instance}': instance">
          </div>
          <div class="mat-body-1" *ngIf="contentData?.originData?.organisation">
            {{contentData?.originData?.organisation.join(', ')}}</div>
          <a *ngIf="contentData?.orgDetails?.email"
            href="mailto:{{contentData.orgDetails?.email}}?subject={{contentData.name}}">{{contentData.orgDetails?.email}}</a>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>


<app-modal-wrapper *ngIf="showDownloadPopup" [config]="{disableClose: true, width: '30rem', panelClass: 'material-modal'}" (dismiss)="showAlertModal = false">
  <ng-template sbModalContent>
    <div mat-dialog-title class="flex-jc-center flex-dc mb-0">
      <button mat-mini-fab color="warn" class="ml-auto" aria-label="close dialog" mat-dialog-close><mat-icon>close</mat-icon></button>
      <p class="mat-subheading-2 mb-0">{{resourceService?.frmelmnts?.lbl?.DownloadTranscript}}</p>
    </div>
    <mat-dialog-content class="p-0">
     <div class="text-center">
      <mat-form-field color="accent" appearance="fill" class="sb-mat__dropdown sb-mat__dropdown--nolabel sb-mat__dropdown--language w-60">
        <mat-label>{{resourceService.frmelmnts?.btn?.selectLanguage}}</mat-label>
        <mat-select role="listbox" aria-label="Export As" [(value)]="selectedLanguage" class="selection"
          (selectionChange)="changeTranscriptlanguage($event)">
          <mat-option class="mat-dropdown__options mat-dropdown__options--language" role="option" *ngFor="let option of options" [value]="option"
            attr.aria-label="{{option}}">{{option}}</mat-option>
        </mat-select>
      </mat-form-field>
     </div>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
      <button mat-raised-button color="accent" class="button-rounded" type="button" appTelemetryInteract [telemetryInteractObject]="{id:transcripts,type:'transcripts',ver:'1.0'}"
      [telemetryInteractEdata]="transcriptsInteractEdata" 
       (click)="dowloadTranscript()" tabindex="0">
        {{ resourceService?.frmelmnts?.lbl?.dashboard?.download}}
      </button>
    </mat-dialog-actions>

  </ng-template>
</app-modal-wrapper>