<div *ngFor="let list of groupData?.activitiesGrouped" class="activity-list-component">
  <div class="d-flex flex-ai-center flex-wrap my-16" *ngIf="activityList[list?.title]?.length && isSelectedType(list?.title)">
    <h3 class="mb-0 mat-title" tabindex="0">{{getTitle(list?.title)}}</h3>
    <button *ngIf="activityList[list?.title]?.length > 3 && disableViewAllMode && isSelectedType(list?.title)"
      mat-raised-button color="warn" class="button-rounded ml-auto" tabindex="0"
      (click)="toggleViewAll(false); addTelemetry('close-view-all', [], {type: list?.title})">{{resourceService?.frmelmnts?.btn?.close}}
      <mat-icon>close</mat-icon></button>
    <button mat-raised-button color="success" class="button-rounded ml-auto"
      *ngIf="activityList[list?.title]?.length > 3 && !disableViewAllMode && isSelectedType(list?.title)" tabindex="0"
      (click)="toggleViewAll(true, list?.title);addTelemetry('open-view-all', [], {type: list?.title})">{{resourceService?.frmelmnts?.lnk?.viewall}}</button>
  </div>
  <!--Show loader-->
  <div class="sb-card-grid" *ngIf="showLoader && activityList[list?.title]?.length">
    <sb-course-card [isLoading]="true"
      *ngFor="let i of (activityList[list?.title] || numberOfSections)"></sb-course-card>
  </div>

  <!--Show Activity List-->
  <div *ngIf="activityList[list?.title]?.length && !showLoader" class="sb-card-grid"
    [ngClass]="{'hideActivityType': !isSelectedType(list?.title)}">
    <div *ngFor="let activity of activityList[list?.title]; let i=index;">
      <sb-course-card
        *ngIf="isCourse(activity?.type) && viewSelectedTypeContents(list?.title, activityList[list?.title], i)"
        (cardClick)="openActivity($event, list?.title)" [course]="activity" [section]="null"
        [isMenu]="groupData?.isAdmin" [cardImg]="activity?.appIcon
      || config?.assetsPath?.book" (menuClick)="getMenuData($event, activity)">
      </sb-course-card>
      <sb-library-card
        *ngIf="!isCourse(activity?.type) && viewSelectedTypeContents(list?.title, activityList[list?.title], i)"
        (cardClick)="openActivity($event, list?.title)" [content]="activity" [section]="null"
        [isMenu]="groupData?.isAdmin" [cardImg]="activity?.appIcon
          || config?.assetsPath?.book" (menuClick)="getMenuData($event, activity)">
      </sb-library-card>
      <div class="kabab-menu-dropdown-content" *ngIf="showMenu &&
      selectedActivity?.identifier === activity?.identifier">
        <div class="mat-caption color-error" tabindex="0" (click)="toggleModal(true)">
          <span>{{resourceService?.frmelmnts?.lbl?.removeActivity}}</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- No Activity[cardType]="getType(selectedContentType?.type)" -->
<app-add-activity *ngIf="!showLoader && ((activityList | json) === '{}')"></app-add-activity>

<!-- Remove Activity from the group -->
<app-modal-wrapper *ngIf="showModal" #modal
  [config]="{disableClose: true, size: 'small', width: '30rem', panelClass: 'material-modal'}">
  <ng-template sbModalContent let-data>

    <div mat-dialog-title class="mb-0">
      <h2 class="mb-0">{{resourceService?.frmelmnts?.lbl?.removeActivity}}</h2>
      <button mat-mini-fab color="warn" class="ml-auto" aria-label="close dialog" (click)="toggleModal()"
        mat-dialog-close><mat-icon>close</mat-icon></button>
    </div>
    <mat-dialog-content>
      <p tabindex="0"> {{resourceService?.messages?.imsg?.removeActivityWarning}}</p>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
      <button mat-raised-button color="warn" class="button-rounded mr-8" tabindex="0"
        (click)="removeActivity()">{{resourceService?.frmelmnts?.btn?.remove}}</button>
    </mat-dialog-actions>

  </ng-template>
</app-modal-wrapper>