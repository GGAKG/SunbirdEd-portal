<div class="verify-account-identifier-component" [appTelemetryImpression]="telemetryImpression">
  <div class="mt-32 text-center">
    <div class="mat-body-1">
      {{resourceService?.frmelmnts?.lbl?.otpSentTo}}
      <span>{{recoverAccountService.selectedAccountIdentifier.value}}.</span>
    </div>
    <div class="mat-body-1">
      {{resourceService?.frmelmnts?.lbl?.itis}}
      <span>{{resourceService?.frmelmnts?.lbl?.validFor}}.</span>
    </div>
  </div>
  <form [formGroup]="form" class="mt-24" autocomplete="off">
    <mat-form-field appearance="fill" class="w-100">
      <mat-label class="required">{{resourceService?.frmelmnts?.lbl?.enterOTP}}</mat-label>
      <input matInput [ngClass]="{'is-invalid': false }" formControlName="otp" name="otp" placeholder="{{resourceService?.frmelmnts?.lbl?.enterOTP}}">
      <mat-error *ngIf="errorMessage">{{errorMessage}}</mat-error>
      <mat-error *ngIf="form.controls.otp.touched && form.controls.otp.errors && form.controls.otp.errors.required">{{resourceService?.frmelmnts?.lbl?.otpMandatory}}</mat-error>
    </mat-form-field>
    <re-captcha *ngIf="isP2CaptchaEnabled === 'true'" #captchaRef="reCaptcha" (resolved)="$event && resolved($event)" siteKey="{{googleCaptchaSiteKey}}"
      size="invisible"></re-captcha>
    <a (click)="captchaRef.reset()" id="resetGoogleCaptcha"></a>
    <div class="mt-32">
      <button mat-raised-button color="accent" class="button-rounded w-100 mt-16" tabindex="0" [disabled]="disableFormSubmit" appTelemetryInteract
      [telemetryInteractCdata]="telemetryCdata" [telemetryInteractEdata]="{id: 'verify-otp', type: 'click', pageid: 'verify-identifier', extra: { form: recoverAccountService.selectedAccountIdentifier} }"
      (click)="handleVerifyOtp()">{{resourceService?.frmelmnts?.lbl?.submitOTP}}</button>
      <button mat-raised-button class="button-rounded color-accent w-100 mt-8" tabindex="0" [ngClass]="{'disabled': !disableResendOtp}"
        appTelemetryInteract [telemetryInteractCdata]="telemetryCdata" [disabled]="!disableResendOtp" [telemetryInteractEdata]="{id: 'resend-otp', type: 'click', pageid: 'verify-identifier', extra: { form: recoverAccountService.selectedAccountIdentifier} }"
        (click)="submitResendOTP()">
        <div class="d-flex flex-jc-center">
          <span>{{resourceService?.frmelmnts?.lbl?.resendOTP}}</span> &nbsp;
          <span *ngIf="counter>0">( {{counter}} )</span>
        </div>
      </button>
    </div>
  </form>
</div>