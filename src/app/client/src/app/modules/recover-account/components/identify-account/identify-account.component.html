<div class="identify-account-component" [appTelemetryImpression]="telemetryImpression">
  <form [formGroup]="form" autocomplete="off" class="mt-24">
    <mat-form-field appearance="fill" class="w-100">
      <mat-label class="required">{{resourceService?.frmelmnts?.lbl?.email}}/{{resourceService?.frmelmnts?.lbl?.phoneNumber}}</mat-label>
      <input matInput [ngClass]="{'is-invalid': form.controls.identifier.touched && form.controls.identifier.errors }" type="email" formControlName="identifier" 
      name="identifier" placeholder="{{resourceService?.frmelmnts?.lbl?.enterEmailID}}/{{resourceService?.frmelmnts?.lbl?.phone}}">
      <span *ngIf="identiferStatus === 'MATCHED'" class="sb-field-verified"><i
        class="check circle icon"></i></span>
      <mat-error *ngIf="form.controls.identifier.touched && form.controls.identifier.errors && form.controls.identifier.errors.required">
        {{resourceService?.frmelmnts?.lbl?.email}}/{{resourceService?.frmelmnts?.lbl?.phoneRequired}}
      </mat-error>
      <mat-error *ngIf="form.controls.identifier.touched && form.controls.identifier.errors && form.controls.identifier.errors.pattern">
        {{resourceService?.frmelmnts?.lbl?.validEmail}}/{{resourceService?.frmelmnts?.lbl?.phone}}
      </mat-error>
      <mat-error *ngIf="identiferStatus === 'NOT_MATCHED'">
        {{resourceService?.frmelmnts?.lbl?.emailPhonenotRegistered | interpolate:'{instance}': resourceService.instance}}
      </mat-error>
      <mat-error *ngIf="identiferStatus === 'VALIDATING_FAILED'">
        {{resourceService?.frmelmnts?.lbl?.captchaValidationFailed}}
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill" class="w-100 mt-16">
      <mat-label class="required">{{resourceService?.frmelmnts?.lbl?.anncmnttblname}}</mat-label>
      <input matInput [ngClass]="{ 'is-invalid': form.controls.name.touched && form.controls.name.errors }" type="text" formControlName="name" 
      name="name" placeholder="{{resourceService?.frmelmnts?.lbl?.enterName | interpolate:'{instance}': resourceService.instance}}">
      <mat-error *ngIf="form.controls.name.touched && form.controls.name.errors && form.controls.name.errors.required">
        {{resourceService?.frmelmnts?.lbl?.nameRequired}}
      </mat-error>
      <mat-error *ngIf="nameNotExist">
        {{resourceService?.frmelmnts?.lbl?.enterNameNotMatch | interpolate:'{instance}': resourceService.instance}}
      </mat-error>
    </mat-form-field>
    <re-captcha *ngIf="isP1CaptchaEnabled === 'true' && googleCaptchaSiteKey" #captchaRef="reCaptcha" (resolved)="$event && handleNext($event)" siteKey="{{googleCaptchaSiteKey}}" size="invisible"></re-captcha>
    <button mat-raised-button color="accent" class="button-rounded w-100 mt-16" [disabled]="disableFormSubmit" tabindex="0"
      appTelemetryInteract [telemetryInteractCdata]="telemetryCdata"
      [telemetryInteractEdata]="{id: 'submit', type: 'click', pageid: 'identify-account', extra: {form: form.value} }"
      tabindex="0" (click)="(isP1CaptchaEnabled === 'true' && googleCaptchaSiteKey) ? captchaRef.execute() : handleNext()">
      {{resourceService?.frmelmnts?.lbl?.next}}
    </button>
  </form>
</div>