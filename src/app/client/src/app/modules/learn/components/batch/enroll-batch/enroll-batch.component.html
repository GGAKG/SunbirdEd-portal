<app-modal-wrapper *ngIf="modalVisibility" [config]="{disableClose: true, size: 'normal', panelClass: 'material-modal'}" (dismiss)="redirect()"
    #enrollBatch>
    <ng-template sbModalContent>

        <div mat-dialog-title>
            <h2>{{batchDetails.name}}</h2>
            <span class="example-spacer"></span>
            <button mat-mini-fab color="warn" mat-dialog-close aria-label="close dialog">
              <mat-icon>close</mat-icon>
            </button>
          </div>
          <mat-dialog-content  class="enroll-batch-component">
           
            <div *ngIf="batchDetails.description">
            <label class="mat-body-1">{{resourceService.frmelmnts.lbl.batchdescription}}</label>
            <div *ngIf="batchDetails.description" class="des-content">
                <p *ngIf="!readMore" class="mat-body-1"> {{ batchDetails.description |
                    slice:0:120}}&nbsp;
                    <span class="cursor-pointer color-accent" *ngIf="batchDetails.description && batchDetails.description.length > 120 && readMore === false"
                        tabindex="0" (click)="readMore = !readMore;">{{resourceService.frmelmnts.lbl.readmore}}</span>
                </p>
                <p *ngIf="readMore" class="mat-body-1"> {{batchDetails.description}}&nbsp; <span class="cursor-pointer color-accent" tabindex="0"
                        (click)="readMore = false;">{{resourceService.frmelmnts.lbl.readless}}</span>
                </p>
            </div>
        </div>

        <div class="pb-0 mat-body-1">
            <label>{{resourceService.frmelmnts.lbl.startdate}}</label>
            <span class="pl-10">{{batchDetails.startDate | dateFormat}}</span>
        </div>
        <div *ngIf="batchDetails.endDate" class="mat-body-1">
            <label>{{resourceService.frmelmnts.lbl.enddate}}</label>
            <span *ngIf="batchDetails.endDate"
                class="pl-8">{{batchDetails.endDate | dateFormat}}</span>
        </div>

          </mat-dialog-content>
          <mat-dialog-actions align="end">
            <button appTelemetryInteract
            [telemetryInteractObject]="{id:batchId , ver : '1.0' , type:'CourseBatch' , rollup:{l1: batchDetails.courseId,l2: batchDetails.identifier}}"
            [telemetryInteractEdata]="submitInteractEdata" [telemetryInteractCdata]="telemetryCdata"
            [disabled]="disableSubmitBtn" mat-raised-button color="accent" class="button-rounded"
            id="enrollToCourse" tabindex="0" (click)="enrollToCourse()">
            {{generaliseLabelService?.frmelmnts?.btn?.enroll}}
        </button>
          </mat-dialog-actions>
    </ng-template>
</app-modal-wrapper>

<app-modal-wrapper *ngIf="showLoader" [config]="{disableClose: false, size: 'normal'}">
    <ng-template sbModalContent>
        <app-loader></app-loader>
    </ng-template>
</app-modal-wrapper>