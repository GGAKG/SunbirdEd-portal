<app-modal-wrapper [config]="{disableClose: true, size: 'normal'}" (dismiss)="closeModal()" #modal>
  <ng-template sbModalContent>
    <div mat-dialog-title class="mb-0">
      <h4 class="color-accent font-weight-bold mb-0">
        {{resourceService?.frmelmnts?.lbl?.desktop?.storageSpaceRunningOutHeader}}</h4>
      <button mat-mini-fab color="warn" class="ml-auto" aria-label="close dialog"
        mat-dialog-close><mat-icon>close</mat-icon></button>
    </div>

    <mat-dialog-content>
      <div class="d-flex flex-dc flex-w-wrap">
        <div *ngIf="!showContentChangeWarning">
          <p class="text-center mat-body-1 color-warn">
            {{resourceService?.frmelmnts?.lbl?.desktop?.failedListLabel}}
          </p>
          <div class="custom-height">
            <div class="p-8 warning-ecar-list" *ngFor="let items of failedList">
              {{items['name']}}
            </div>
          </div>
        </div>

        <div *ngIf="showContentChangeWarning">
          <p class="text-center mat-body-1 color-warn">
            {{resourceService?.messages?.stmsg?.changeContentLocationWarning }}
          </p>

          <div class="w-100">
            <p>{{resourceService?.frmelmnts?.lbl?.chooseContentLocationDrive}}</p>
            <sui-select class="selection w-100" [(ngModel)]="selectedDrive"
              [placeholder]="resourceService?.frmelmnts?.lbl?.selectDrive" [options]="drives" #drivesOption
              labelField="label">
              <sui-select-option *ngFor="let drive of drivesOption?.filteredOptions" [value]="drive"
                [ngClass]="{disabled: drive?.isCurrentContentLocation}" appTelemetryInteract
                [telemetryInteractEdata]="getDriveSelectInteractEdata(drive)">
              </sui-select-option>
            </sui-select>
          </div>
        </div>
      </div>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-raised-button color="accent" class="button-rounded mr-8" tabindex="0"
        (click)="closeModal(selectedDrive)" appTelemetryInteract [telemetryInteractEdata]="popupInteractEdata">
        {{resourceService?.frmelmnts?.btn?.ok}}
      </button>
    </mat-dialog-actions>

  </ng-template>
</app-modal-wrapper>